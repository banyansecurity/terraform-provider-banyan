---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "banyan_policy_web Resource - terraform-provider-banyan"
subcategory: ""
description: |-
  The web policy resource is used to manage the lifecycle of policies which will be attached to services of the type banyan_service_web. For more information on Banyan policies, see the documentation. https://docs.banyanops.com/docs/feature-guides/administer-security-policies/policies/manage-policies/
---

# banyan_policy_web (Resource)

The web policy resource is used to manage the lifecycle of policies which will be attached to services of the type `banyan_service_web`. For more information on Banyan policies, see the [documentation.](https://docs.banyanops.com/docs/feature-guides/administer-security-policies/policies/manage-policies/)

## Example Usage

```terraform
resource "banyan_policy_web" "example" {
  name        = "example"
  description = "some web policy description"
  access {
    roles       = ["ANY"]
    trust_level = "High"
  }
}

## Example Web Policy with Layer 7 Access Policy

resource "banyan_service_web" "example" {
  name           = "example-web"
  access_tier    = "us-west1"
  domain         = "example-web.corp.com"
  backend_domain = "example-web.internal"
  backend_port   = 8443
  policy         = banyan_policy_web.example.id
}

resource "banyan_policy_web" "example" {
  name        = "example"
  description = "some web policy description"

  access {
    roles       = ["Administrators"]
    trust_level = "High"
    l7_access {
      resources = ["/admin"]
      actions   = ["READ"]
    }
  }

  access {
    roles       = ["Everyone"]
    trust_level = "High"
    l7_access {
      resources = ["/app"]
      actions   = ["READ"]
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access` (Block List, Min: 1) Access describes the access rights for a set of roles (see [below for nested schema](#nestedblock--access))
- `description` (String) Description of the policy
- `name` (String) Name of the policy

### Read-Only

- `id` (String) ID of the policy in Banyan

<a id="nestedblock--access"></a>
### Nested Schema for `access`

Required:

- `roles` (Set of String) Role names to include
- `trust_level` (String) The trust level of the end user device, must be one of: "High", "Medium", "Low", or ""

Optional:

- `l7_access` (Block List) Indicates whether the end user device is allowed to use L7 (see [below for nested schema](#nestedblock--access--l7_access))

<a id="nestedblock--access--l7_access"></a>
### Nested Schema for `access.l7_access`

Optional:

- `actions` (Set of String) Actions are a list of application-level actions: "CREATE", "READ", "UPDATE", "DELETE", "*"
- `resources` (Set of String) Resources are a list of application level resources.
										Each resource can have wildcard prefix or suffix, or both.
										A resource can be prefixed with "!", meaning DENY.
										Any DENY rule overrides any other rule that would allow the access.

## Import

Import is supported using the following syntax:

```shell
# For importing a resource we require resource Id, which can be obtained from console for the resource we are importing
# And we need to create an entry in .tf file which represents the resource which would be imported.
# for e.g adding an entry into main.tf
# main.tf:
# resource "banyan_policy_web" "myexample" {
#   name = "myexample"
# }

terraform import banyan_policy_web.myexample 46f3a708-2a9a-4c87-b18e-b11b6c92bf24

terraform show
# update thw show output configuration into above main.tf file, then resource is managed.
# BE CAUTIOUS before terraform apply, do terraform plan and verify there are no changes to be applied.

# Terraform Version 1.5.x or Later:
# We can create Import tf files
# for e.g
# import.tf:
# import {
#  to = banyan_policy_web.myexample
#  id = "46f3a708-2a9a-4c87-b18e-b11b6c92bf24"
# }
#  Then execute
terraform plan -generate-config-out=generated.tf
# Configurations are imported into generated.tf edit and verify
# BE CAUTIOUS before terraform apply, do terraform plan and verify there are no changes to be applied.
```
