---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "banyan_service_tcp Resource - terraform-provider-banyan"
subcategory: ""
description: |-
  Resource used for lifecycle management of generic TCP services. For more information on generic TCP services see the documentation https://docs.banyansecurity.io/docs/feature-guides/infrastructure/tcp-services/
---

# banyan_service_tcp (Resource)

Resource used for lifecycle management of generic TCP services. For more information on generic TCP services see the [documentation](https://docs.banyansecurity.io/docs/feature-guides/infrastructure/tcp-services/)

## Example Usage

```terraform
resource "banyan_service_tcp" "example" {
  name           = "example-tcp"
  description    = "some tcp service description"
  access_tier    = "us-west1"
  domain         = "example-tcp.us-west1.mycompany.com"
  backend_domain = "example-tcp.internal"
  backend_port   = 5673
  policy         = banyan_policy_infra.example.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `backend_domain` (String) The internal network address where this service is hosted; ex. 192.168.1.2; set to "" if using http_connect
- `backend_port` (Number) The internal port where this service is hosted; set to 0 if using http_connect
- `domain` (String) The external-facing network address for this service; ex. website.example.com
- `name` (String) Name of the service; use lowercase alphanumeric characters or "-"

### Optional

- `access_tier` (String) Name of the access_tier which will proxy requests to your service backend
- `allow_patterns` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--allow_patterns))
- `autorun` (Boolean) Autorun for the service, if set true service would autorun on the app
- `available_in_app` (Boolean) Whether this service is available in the app for users with permission to access this service
- `backend_dns_override_for_domain` (String) Override DNS for service domain name with this value
- `client_banyanproxy_allowed_domains` (Set of String) Restrict which domains can be proxied through the banyanproxy; only used with Client Specified connectivity
- `client_banyanproxy_listen_port` (String) Sets the listen port of the service for the end user Banyan app
- `cluster` (String, Deprecated) (Depreciated) Sets the cluster / shield for the service
- `connector` (String) Name of the connector which will proxy requests to your service backend
- `description` (String) Description of the service
- `description_link` (String) Link shown to the end user of the banyan app for this service
- `disable_private_dns` (Boolean) By default, Private DNS Override will be set to true i.e disable_private_dns is false. On the device, the domain name will resolve over the service tunnel to the correct Access Tier's public IP address. If you turn off Private DNS Override i.e. disable_private_dns is set to true, you need to explicitly set a private DNS entry for the service domain name.
- `end_user_override` (Boolean) Allow the end user to override the backend_port for this service
- `http_connect` (Boolean) Indicates to use HTTP Connect request to derive the backend target address.
- `icon` (String) Name of the icon which will be displayed to the end user. The icon names can be found in the UI in the service config
- `policy` (String) Policy ID to be attached to this service
- `port` (Number) The external-facing port for this service
- `suppress_device_trust_verification` (Boolean) suppress_device_trust_verification disables Device Trust Verification for a service if set to true

### Read-Only

- `id` (String) Id of the service in Banyan

<a id="nestedblock--allow_patterns"></a>
### Nested Schema for `allow_patterns`

Optional:

- `cidrs` (List of String)
- `hostnames` (List of String)
- `ports` (Block Set) (see [below for nested schema](#nestedblock--allow_patterns--ports))

<a id="nestedblock--allow_patterns--ports"></a>
### Nested Schema for `allow_patterns.ports`

Optional:

- `port_list` (List of Number)
- `port_range` (Block List) (see [below for nested schema](#nestedblock--allow_patterns--ports--port_range))

<a id="nestedblock--allow_patterns--ports--port_range"></a>
### Nested Schema for `allow_patterns.ports.port_range`

Required:

- `max` (Number)
- `min` (Number)

## Import

Import is supported using the following syntax:

```shell
# For importing a resource we require resource Id, which can be obtained from console for the resource we are importing
# And we need to create an entry in .tf file which represents the resource which would be imported.
# for e.g adding an entry into main.tf
# main.tf:
# resource "banyan_service_tcp" "myexample" {
#   name = "myexample"
# }

terraform import banyan_service_tcp.myexample myexample.global-edge.bnn

terraform show
# update thw show output configuration into above main.tf file, then resource is managed.
# BE CAUTIOUS before terraform apply, do terraform plan and verify there are no changes to be applied.

# Terraform Version 1.5.x or Later:
# We can create Import tf files
# for e.g
# import.tf:
# import {
#  to = banyan_service_tcp.myexample
#  id = "myexample.global-edge.bnn"
# }
#  Then execute
terraform plan -generate-config-out=generated.tf
# Configurations are imported into generated.tf edit and verify
# BE CAUTIOUS before terraform apply, do terraform plan and verify there are no changes to be applied.
```
